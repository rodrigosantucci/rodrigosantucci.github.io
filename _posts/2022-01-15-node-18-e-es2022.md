---
layout: post
title: "Node 18 e ES2022"
date: 2022-01-15
excerpt: "Novidades da plataforma e do padrão ECMAScript."
tags: [node, javascript, es2022]
comments: true
min_read_time: 20
auto_content: true
feature: "assets/img/logopost.jpg"
---

APIs estáveis e sintaxe moderna para produtividade.

Compatibilidade e adoção em projetos.

## Node 18

- `fetch` global (baseado em Undici); uso responsável e timeouts.
- OpenSSL 3: impacto em crypto; revisar algoritmos e compatibilidades.
- ESM aprimorado: módulos nativos, resolução e interoperabilidade.

## ES2022

- `Object.hasOwn(obj, key)`: verificação direta de propriedade.
- `Error` cause: `new Error('msg', { cause })` para encadeamento de erros.
- RegExp Match Indices (`/pattern/d`): índices das correspondências.
- Campos privados e métodos de classe: encapsulamento nativo.
- Top‑level `await` em módulos: fluxo assíncrono mais simples.

## Exemplos

```js
// Error cause
try { throw new Error('falha', { cause: new Error('detalhe') }) } catch (e) { console.error(e.cause) }

// Object.hasOwn
Object.hasOwn({ a: 1 }, 'a') // true
```

## Checklist

- Revisar dependências e uso de crypto (OpenSSL 3).
- Adotar APIs modernas e padrões ES2022 onde fizer sentido.
- Testes e lint atualizados; suportar ESM adequadamente.

## Referências

- Node.js 18: https://nodejs.org/en/blog/release/v18.0.0/
- ECMAScript 2022: https://tc39.es

